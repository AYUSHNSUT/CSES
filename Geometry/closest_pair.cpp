#include<bits/stdc++.h>
//#include <ext/pb_ds/assoc_container.hpp>
//using namespace __gnu_pbds;
using namespace std;
#define DEBUG(x) cerr << '>' << #x << ':' << x << endl;
#define REP(i,n) for(int i=0;i<(n);i++)
#define FOR(i,a,b) for(int i=(a);i<=(b);i++)
#define FORD(i,a,b) for(int i=(a);i>=(b);i--)
#define all(c) c.begin(),c.end()
#define M 1000000007
typedef long long ll;
typedef unsigned long long ull;
typedef pair<int, int> pii;
typedef pair<ll, ll> pll;
typedef pair<string, string> pss;
typedef vector<int> vi;
typedef vector<vi> vvi;
typedef vector<pii> vii;
typedef vector<ll> vl;
typedef vector<vl> vvl;
#define mp make_pair
#define pb push_back
inline bool EQ(double a, double b) { return fabs(a-b) < 1e-9; }
inline int two(int n) { return 1 << n; }
inline int test(int n, int b) { return (n>>b)&1; }
inline void set_bit(int & n, int b) { n |= two(b); }
inline void unset_bit(int & n, int b) { n &= ~two(b); }
inline int last_bit(int n) { return n & (-n); }
inline int ones(int n) { int res = 0; while(n && ++res) n-=n&(-n); return res; }
template<class T> void chmax(T & a, const T & b) { a = max(a, b); }
template<class T> void chmin(T & a, const T & b) { a = min(a, b); }
#define fast_cin() std::ios_base::sync_with_stdio(false); cin.tie(NULL); cout.tie(NULL)
//#undef _GLIBCXX_DEBUG
// uncomment for multiset and us less_equal in line below
//#define indexed_set tree<int,null_type,less<int>,rb_tree_tag, tree_order_statistics_node_update> 

/////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////
// ⡏⠉⠉⠉⠉⠉⠉⠋⠉⠉⠉⠉⠉⠉⠋⠉⠉⠉⠉⠉⠉⠉⠉⠉⠉⠙⠉⠉⠉⠹
// ⡇⢸⣿⡟⠛⢿⣷⠀⢸⣿⡟⠛⢿⣷⡄⢸⣿⡇⠀⢸⣿⡇⢸⣿⡇⠀⢸⣿⡇⠀
// ⡇⢸⣿⣧⣤⣾⠿⠀⢸⣿⣇⣀⣸⡿⠃⢸⣿⡇⠀⢸⣿⡇⢸⣿⣇⣀⣸⣿⡇⠀
// ⡇⢸⣿⡏⠉⢹⣿⡆⢸⣿⡟⠛⢻⣷⡄⢸⣿⡇⠀⢸⣿⡇⢸⣿⡏⠉⢹⣿⡇⠀
// ⡇⢸⣿⣧⣤⣼⡿⠃⢸⣿⡇⠀⢸⣿⡇⠸⣿⣧⣤⣼⡿⠁⢸⣿⡇⠀⢸⣿⡇⠀
// ⣇⣀⣀⣀⣀⣀⣀⣄⣀⣀⣀⣀⣀⣀⣀⣠⣀⡈⠉⣁⣀⣄⣀⣀⣀⣠⣀⣀⣀⣰
// ⣇⣿⠘⣿⣿⣿⡿⡿⣟⣟⢟⢟⢝⠵⡝⣿⡿⢂⣼⣿⣷⣌⠩⡫⡻⣝⠹⢿⣿⣷
// ⡆⣿⣆⠱⣝⡵⣝⢅⠙⣿⢕⢕⢕⢕⢝⣥⢒⠅⣿⣿⣿⡿⣳⣌⠪⡪⣡⢑⢝⣇
// ⡆⣿⣿⣦⠹⣳⣳⣕⢅⠈⢗⢕⢕⢕⢕⢕⢈⢆⠟⠋⠉⠁⠉⠉⠁⠈⠼⢐⢕⢽
// ⡗⢰⣶⣶⣦⣝⢝⢕⢕⠅⡆⢕⢕⢕⢕⢕⣴⠏⣠⡶⠛⡉⡉⡛⢶⣦⡀⠐⣕⢕
// ⡝⡄⢻⢟⣿⣿⣷⣕⣕⣅⣿⣔⣕⣵⣵⣿⣿⢠⣿⢠⣮⡈⣌⠨⠅⠹⣷⡀⢱⢕
// ⡝⡵⠟⠈⢀⣀⣀⡀⠉⢿⣿⣿⣿⣿⣿⣿⣿⣼⣿⢈⡋⠴⢿⡟⣡⡇⣿⡇⡀⢕
// ⡝⠁⣠⣾⠟⡉⡉⡉⠻⣦⣻⣿⣿⣿⣿⣿⣿⣿⣿⣧⠸⣿⣦⣥⣿⡇⡿⣰⢗⢄
// ⠁⢰⣿⡏⣴⣌⠈⣌⠡⠈⢻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣬⣉⣉⣁⣄⢖⢕⢕⢕
// ⡀⢻⣿⡇⢙⠁⠴⢿⡟⣡⡆⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣵⣵⣿
// ⡻⣄⣻⣿⣌⠘⢿⣷⣥⣿⠇⣿⣿⣿⣿⣿⣿⠛⠻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// ⣷⢄⠻⣿⣟⠿⠦⠍⠉⣡⣾⣿⣿⣿⣿⣿⣿⢸⣿⣦⠙⣿⣿⣿⣿⣿⣿⣿⣿⠟
// ⡕⡑⣑⣈⣻⢗⢟⢞⢝⣻⣿⣿⣿⣿⣿⣿⣿⠸⣿⠿⠃⣿⣿⣿⣿⣿⣿⡿⠁⣠
// ⡝⡵⡈⢟⢕⢕⢕⢕⣵⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣶⣿⣿⣿⣿⣿⠿⠋⣀⣈⠙
// ⡝⡵⡕⡀⠑⠳⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⠛⢉⡠⡲⡫⡪⡪⡣
/////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////
ll n;
vector <pll> sortedY;
pll scanedArray[200000];
ll d = LLONG_MAX;
ll dist(pll a, pll b){
    return ((a.first - b.first) *(a.first - b.first) ) +((a.second - b.second)*(a.second - b.second));
}
ll bruteForce(vector <pll> &a,ll l = 0, ll r = n-1 ){
    ll mind = LLONG_MAX;
    for(int i = l;i<=r;i++){
        for(int j = i+1;j<=r;j++){
            mind = min(mind, dist(a[i],a[j]));
        }
    }
    return mind;
}
bool sortBySec(pll a, pll b){
    return a.second < b.second || (a.second == b.second && a.first < b.first);
}
ll closestPair(vector <pll> &a,vector <pll> &sY,ll l = 0, ll r = n-1 ){
    // DEBUG(l);
    // DEBUG(r);
    if(d == 1){
        return 1;
    }
    if(r - l + 1 <= 3){
        // DEBUG(bruteForce(a,l,r));
        return bruteForce(a,l,r);
    }

    ll mid = (l+r) / 2;
    ll mid_d_x = a[mid].first;
    vector <pll> sY1,sY2;
    for(auto p : sY){
        if(p.first <= mid_d_x){
            sY1.pb(p);
        }
        else{
            sY2.pb(p);
        }
    }
    ll dl = closestPair(a,sY1,l,mid);
    ll dr = closestPair(a,sY2,mid+1,r);

    d = min(dl,dr);
    ll ans = d;

    if(d == 1){
        return 1;
    }


    // DEBUG(l);
    // DEBUG(r);
    // DEBUG(d);
    // DEBUG(mid_d_x);
    int startScan = 0;
    for(auto p : sY){
        if(abs(p.first - mid_d_x) < d){
            scanedArray[startScan++] = p;
           // cerr << p.first << " " << p.second << endl;
        }
    }
    for(int i = 0;i<startScan;i++){
        //  cerr << scanedArray[i].first << " " << scanedArray[i].second << endl;
        //  cerr << "\n**********\n";
        for(int j = i+1;j<startScan && j - i < 8  ;j++){
          //  DEBUG(dist(scanedArray[i],scanedArray[j]));
            ans = min(ans,dist(scanedArray[i],scanedArray[j]));
        }
    }
    // DEBUG(l);
    // DEBUG(r);
    // DEBUG(ans);

    return ans;
}

void solve(){
     cin >> n;

     vector <pll> a(n);
     sortedY.resize(n);
     REP(i,n){
         cin >> a[i].first >> a[i].second;
         sortedY[i] = a[i];
     }

     sort(all(a));

    //  for(auto p : a){
    //      cerr << p.first << " " << p.second << endl;
    //  }
     sort(all(sortedY),sortBySec);
    //   for(auto p : sortedY){
    //      cerr << p.first << " " << p.second << endl;
    //  }

     cout << closestPair(a,sortedY);
}



int main(){



    #ifdef mishrable
    // for getting input from input.txt
    freopen("input.txt", "r", stdin);
    // for writing output to output.txt
    freopen("output.txt", "w", stdout);
    #endif



   fast_cin();
   int t =1;
//   / cin >> t; 
   while(t--){
       solve();
   }
}